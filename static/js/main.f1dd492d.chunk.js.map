{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["SearchBox","props","useState","query","inprogressQuery","setInprogressQuery","useEffect","placeholder","value","onChange","e","target","replace","onKeyUp","key","includes","setQuery","window","alert","SearchResults","console","log","className","results","map","element","href","url","class","score","App","setResults","searchAndSetQuery","q","params","URLSearchParams","set","toString","fetch","then","res","json","result","error","search","location","foo","get","currentUrlParams","history","replaceState","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wLAIA,SAASA,EAAUC,GAAQ,IAAD,EAEsBC,mBAASD,EAAME,OAFrC,mBAEjBC,EAFiB,KAEAC,EAFA,KAQxBC,qBAAU,WACRD,EAAmBJ,EAAME,SACxB,CAACF,EAAME,QAUV,OAAQ,8BACN,0BAAUI,YAAY,mCAAmCC,MAAOJ,EAAiBK,SAjB9D,SAACC,GACpBL,EAAmBK,EAAEC,OAAOH,MAAMI,QAAQ,SAAU,MAgBqDC,QAAS,SAACH,GAAD,MAAkB,UAAVA,EAAEI,SARvHV,EAAgBW,SAAS,KAI9Bd,EAAMe,SAASZ,EAAgBQ,QAAQ,IAAK,WAH1CK,OAAOC,MAAM,yBAO0I,OAI7J,SAASC,EAAclB,GAErB,OADAmB,QAAQC,IAAIpB,GACJ,qBAAKqB,UAAU,UAAf,SACLrB,EAAMsB,QAAQC,KAAI,SAAAC,GACjB,OAAO,oBAAqBH,UAAU,eAA/B,UACL,mBAAGI,KAAMD,EAAQE,IAAjB,SAAuBF,EAAQE,MAD1B,IACmC,uBAAMC,MAAM,QAAZ,cAAsBH,EAAQI,MAA9B,SAD3BJ,EAAQE,UA0DdG,MApDf,WAAgB,IAAD,EAEa5B,mBAAS,IAFtB,mBAENC,EAFM,KAECa,EAFD,OAGiBd,mBAAS,IAH1B,mBAGNqB,EAHM,KAGGQ,EAHH,KAKPC,EAAoB,SAACC,GACzB,GAAKA,EAAElB,SAAS,UAAhB,CAGAK,QAAQC,IAAI,aACZL,EAASiB,EAAErB,QAAQ,SAAS,MAC5B,IAAIsB,EAAS,IAAIC,gBACjBD,EAAOE,IAAI,IAAKH,GAChB,IAAMN,EAAM,6BAA+BO,EAAOG,WAClDjB,QAAQC,IAAIM,GACZW,MAAMX,GACHY,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MACC,SAACG,GACCX,EAAWW,MAEb,SAACC,GACCvB,QAAQC,IAAI,cAqBpB,OAhBAf,qBAAU,WACR,IAAIsC,EAAS3B,OAAO4B,SAASD,OAEzBE,EADS,IAAIX,gBAAgBS,GAChBG,IAAI,KAChBD,GACLd,EAAkBc,KACjB,IAWD,sBAAKxB,UAAU,MAAf,UACE,4CACA,cAACtB,EAAD,CAAWG,MAAOA,EAAOa,SAXP,SAACiB,GACrB,IAAIe,EAAmB,IAAIb,gBAAgBlB,OAAO4B,SAASD,QAC3DI,EAAiBZ,IAAI,IAAKH,GAE1BhB,OAAOgC,QAAQC,aAAa,KAAM,KAAM,IAAIF,EAAiBX,YAC7DL,EAAkBC,MAOhB,cAACd,EAAD,CAAeI,QAASA,QC1Ef4B,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBd,MAAK,YAAkD,IAA/Ce,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,K","file":"static/js/main.f1dd492d.chunk.js","sourcesContent":["import { useCallback, useRef, useEffect, useState } from \"react\";\nimport './App.css';\n\n\nfunction SearchBox(props) {\n\n  const [inprogressQuery, setInprogressQuery] = useState(props.query);\n\n  const handleChange = (e) => {\n    setInprogressQuery(e.target.value.replace(/\\n|\\r/g, \"\"));\n  }\n\n  useEffect(() => {\n    setInprogressQuery(props.query)\n  }, [props.query]);\n\n  const submit = () => {\n    if (!inprogressQuery.includes(\"*\")) {\n      window.alert(\"query must contain *\");\n      return;\n    }\n    props.setQuery(inprogressQuery.replace(\"*\", \"<mask>\"));\n  }\n\n  return (<div>\n    <textarea placeholder=\"e.g. The best search engine is *\" value={inprogressQuery} onChange={handleChange} onKeyUp={(e) => (e.key === \"Enter\" ? submit() : 0)}/>\n  </div>);\n}\n\nfunction SearchResults(props) {\n  console.log(props);\n  return (<div className=\"results\">\n    {props.results.map(element => {\n      return <p key={element.url} className=\"searchResult\">\n        <a href={element.url}>{element.url}</a> <span class=\"score\">({element.score})</span></p>\n    })}\n  </div>);\n}\n\nfunction App() {\n\n  const [query, setQuery] = useState(\"\");\n  const [results, setResults] = useState([]);\n\n  const searchAndSetQuery = (q) => {\n    if (!q.includes(\"<mask>\")) {\n      return;\n    }\n    console.log(\"do search\");\n    setQuery(q.replace(\"<mask>\",\"*\"));\n    let params = new URLSearchParams();\n    params.set('q', q);\n    const url = \"https://exa.sh/api/search?\" + params.toString();\n    console.log(url);\n    fetch(url)\n      .then(res => res.json())\n      .then(\n        (result) => {\n          setResults(result);\n        },\n        (error) => {\n          console.log(\"ERROR\");\n        }\n      )\n  }\n\n  useEffect(() => {\n    let search = window.location.search;\n    let params = new URLSearchParams(search);\n    let foo = params.get('q');\n    if (!foo) return;\n    searchAndSetQuery(foo);\n  }, [])\n\n  const setQueryParam = (q) => {\n    let currentUrlParams = new URLSearchParams(window.location.search);\n    currentUrlParams.set('q', q);\n    // window.history.push(window.location.pathname + \"?\" + currentUrlParams.toString());\n    window.history.replaceState(null, null, \"?\"+currentUrlParams.toString());\n    searchAndSetQuery(q);\n  }\n\n  return (\n    <div className=\"App\">\n      <h1>exa search</h1>\n      <SearchBox query={query} setQuery={setQueryParam}/>\n      <SearchResults results={results}/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}